function t(t,e,s,r){Object.defineProperty(t,e,{get:s,set:r,enumerable:!0,configurable:!0})}function e(t){return t&&t.__esModule?t.default:t}var s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},r={},i={},a=s.parcelRequire5f7c;null==a&&((a=function(t){if(t in r)return r[t].exports;if(t in i){var e=i[t];delete i[t];var s={id:t,exports:{}};return r[t]=s,e.call(s.exports,s,s.exports),s.exports}var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(t,e){i[t]=e},s.parcelRequire5f7c=a),a.register("hqokU",(function(e,s){var r,i;t(e.exports,"register",(function(){return r}),(function(t){return r=t})),t(e.exports,"resolve",(function(){return i}),(function(t){return i=t}));var a={};r=function(t){for(var e=Object.keys(t),s=0;s<e.length;s++)a[e[s]]=t[e[s]]},i=function(t){var e=a[t];if(null==e)throw new Error("Could not resolve bundle with id "+t);return e}})),a("hqokU").register(JSON.parse('{"qJi4E":"index.24b9262c.js","ihrEv":"background.8086dd7e.png","aV8hK":"card_back.dc0028f7.png","eBEDV":"card_question.ddf83312.png","bHSwl":"card_result.65b624de.png","fQyhy":"character_end.20c94bd8.png","1T4Bt":"designer.05e93718.png","lHsfF":"developer.919c361c.png","dPDEn":"pm.1963c7be.png","sAvWb":"score.24868ea4.png","iOXqC":"answer_left.2b8b42b5.png","d6SRG":"answer_right.c8bae2b7.png"}'));class n{static add(t){this.clickables.push(t)}static remove(t){this.clickables=this.clickables.filter((e=>e!==t))}static listenHover(){for(const t of this.clickables)t.isHovered()&&!t.isHoveredBefore()?t.onHover():!t.isHovered()&&t.isHoveredBefore()&&t.onHoverOut()}static listenClick(){for(const t of this.clickables)t.isHovered()&&t.onClick()}}n.clickables=[];var o,u=function(t){return class extends t{position(){super.position(),rectMode(CENTER)}display(){super.display()}isInside(t,e){t-=width/2,e-=height/2;const s=this.width/2,r=this.height/2;return t>=this.x-s&&t<=this.x+s&&e>=this.y-r&&e<=this.y+r}isHovered(){return this.isInside(mouseX,mouseY)}isHoveredBefore(){return this.isInside(pmouseX,pmouseY)}onHover(){}onHoverOut(){}onClick(){}}};o=new URL(a("hqokU").resolve("ihrEv"),import.meta.url).toString();var h;h=new URL(a("hqokU").resolve("aV8hK"),import.meta.url).toString();var d;d=new URL(a("hqokU").resolve("eBEDV"),import.meta.url).toString();var c;c=new URL(a("hqokU").resolve("bHSwl"),import.meta.url).toString();var l;l=new URL(a("hqokU").resolve("fQyhy"),import.meta.url).toString();var p;p=new URL(a("hqokU").resolve("1T4Bt"),import.meta.url).toString();var g;g=new URL(a("hqokU").resolve("lHsfF"),import.meta.url).toString();var x;x=new URL(a("hqokU").resolve("dPDEn"),import.meta.url).toString();var m;m=new URL(a("hqokU").resolve("sAvWb"),import.meta.url).toString();var f;f=new URL(a("hqokU").resolve("iOXqC"),import.meta.url).toString();var w;w=new URL(a("hqokU").resolve("d6SRG"),import.meta.url).toString();var v=class{static init(){this.background=loadImage(e(o)),this.cardBack=loadImage(e(h)),this.cardQuestion=loadImage(e(d)),this.cardResult=loadImage(e(c)),this.characterEnd=loadImage(e(l)),this.designer=loadImage(e(p)),this.developer=loadImage(e(g)),this.pm=loadImage(e(x)),this.score=loadImage(e(m)),this.answerLeft=loadImage(e(f)),this.answerRight=loadImage(e(w))}};var b,B=class{addBurden(t){this.burden=Math.max(0,Math.min(this.burden+t,this.burdenLimit)),this.burden>=this.burdenLimit&&(this.onRetireGame(),this.onRetireLayout())}resetBurden(){const t=this.burden;this.burden=0,this.onResetLayout(t>=this.burdenLimit)}onRetireGame(){}onRetireLayout(){}onResetLayout(t){}constructor(t,e){this.burden=0,this.name=t,this.burdenLimit=e}};b=JSON.parse('{"intro":[{"emoji":"👇","text":"여기를 클릭해 보시겠어요?"},{"emoji":"🙋","text":"안녕하세요."},{"emoji":"🙌","text":"극한팀플에 오신 걸 환영해요."},{"emoji":"🧑‍💻","text":"당신은 이름 모를 정문과 수업을 듣게 되었습니다."},{"emoji":"👥","text":"왼쪽 위에 같이 팀플할 조원들이 보이네요.","preEffects":["showCharacters"]},{"emoji":"😙","text":"저기 개발자에게 가서 인사해 볼까요?","answers":[{"text":"이 버튼 1px만 옮겨주시면 안 돼요?","result":"개발자가 힘들어합니다.","targets":["developer"],"burdenAmount":1},{"text":"이 버그 내일까지 고쳐주실 수 있을까요?","result":"개발자가 힘들어합니다.","targets":["developer"],"burdenAmount":1}]},{"emoji":"😰","text":"앗... 친근한 인사였다고 생각했는데 아니었군요."},{"emoji":"💁","text":"어떤 선택을 하느냐에 따라 캐릭터의 힘듦 지수가 올라갈 수 있어요."},{"emoji":"💨","text":"힘듦 지수가 5점을 넘어가면 탈주할 수 있으니 주의하세요."},{"emoji":"👏","text":"팀원들의 탈주를 막으면서 15일 동안 팀플을 진행하면 당신의 승리입니다.","preEffects":["showScore"]},{"emoji":"🥰","text":"그럼 시작합니다.","preEffects":["startMain"],"postEffects":["reset","countScore"]}],"main":[{"emoji":"💡","text":"내일이 발표인데, 개발자가 피그마로 보여주기로 한 프로토타입을 웹으로 만들면 어떻겠냐고 한다.","answers":[{"text":"하고 싶으면 하세요.","result":"당연히 완성 못했다. 버그 엄청 많아!","targets":["developer"],"burdenAmount":3},{"text":"개발자님이 너무 힘들지 않을까요?","result":"현명한 선택이었다."}]},{"emoji":"🍨","text":"밤샘 팀플하다가 간식을 사와서 나눠먹기로 했다. 배스킨라빈스에 간 조장. 어떤 맛을 골라야 할까?","answers":[{"text":"체리 쥬빌레","result":"개발자가 핑크색 부분에는 손을 대지 않는다.","targets":["developer"],"burdenAmount":1},{"text":"민트초코칩","result":"개발자가 민초만 다 먹었다.","targets":["developer"],"burdenAmount":-3}]},{"emoji":"🤷","text":"발표 직전에 게임이 끝나지 않는 버그가 발견됐다. 개발자에게 이 버그를 제보하니 자기 컴퓨터에서는 괜찮다는데...","answers":[{"text":"개발자님이 화면 공유해서 발표해 주세요.","result":"코드 설명에 발표 시간을 다 써 버렸다.","targets":["pm","designer"],"burdenAmount":2},{"text":"기획자님 컴퓨터에서도 같은 버그가 나요.","result":"버그 맞네 맞아. 고치러 가자.","targets":["developer"],"burdenAmount":2}]},{"emoji":"⚖️","text":"다음 주 회의 일정을 잡아보니 모두가 참가할 수 있는 날이 없다. 딱 한 명을 제외해야 한다면...","answers":[{"text":"디자이너","result":"기획은 했는데 디자인에 하나도 반영할 수가 없었다.","targets":["designer"],"burdenAmount":1},{"text":"개발자","result":"아 그럼 저는 코딩하고 있을게요."}]},{"emoji":"🤖","text":"회의 중 갑자기 파이썬의 언어적 특성에 대해 설명하기 시작하는 개발자. 반응해 줄까 말까?","answers":[{"text":"아 저도 파이썬 배워봤어요.","result":"개발자가 너무 신나서 파이썬 레퍼런스를 띄우기 시작했다.","targets":["pm","designer"],"burdenAmount":1},{"text":"그게 p5.js랑 다른 건가요?","result":"개발자가 p5.js는 라이브러리고 파이썬은 언어라고 하는데 솔직히 이해 못했다.","targets":["developer"],"burdenAmount":1}]},{"emoji":"💻","text":"밤샘하는 것도 아닌데 갑자기 대면 팀플이 필요하다고 하는 기획자. 대면 팀플 한 번 할까?","answers":[{"text":"한번쯤 만나면 좋지.","result":"팀플 장소에 확진자가 다녀갔다고 해서 모두 선별진료소에 다녀왔다.","targets":["designer","developer"],"burdenAmount":2},{"text":"대면은 다음에 하죠.","result":"대면을 해야 기획 리뷰를 개발자가 들어줄 것 같다나 뭐라나.","targets":["pm"],"burdenAmount":1}]},{"emoji":"🍪","text":"밤샘 팀플하다가 간식을 사와서 나눠먹기로 했다. 편의점에 간 조장. 어떤 과자를 골라야 할까?","answers":[{"text":"꼬북칩 콘소메맛","result":"기획자가 과자 봉지만 물끄러미 보고 있다.","targets":["pm"],"burdenAmount":1},{"text":"꼬북칩 초코츄러스맛","result":"기획자님 식사 안 하신 거 아니죠?","targets":["pm"],"burdenAmount":-2}]},{"emoji":"✍️","text":"퍼소나를 한 번 만들어보면 좋겠다는 기획자. 음 하면 좋지만... 우리 결과물에 투머치인 것 같기도 하고.","answers":[{"text":"기획자님이 한번 만들어 주세요.","result":"갑자기 기획자가 사용자 조사 계획까지 내놓기 시작했다.","targets":["pm"],"burdenAmount":2},{"text":"다같이 만들어 볼까요?","result":"개발자만 카메라가 꺼져 있다. 설마 회의 중에 코딩하나?","targets":["developer"],"burdenAmount":1}]},{"emoji":"😰","text":"회의 중 갑자기 어딘가에서 물소리가 들려온다. 이건 디자이너에게서 들려오는 소리 같은데...?","answers":[{"text":"디자이너님 마이크 켜져 있어요.","result":"아 식사 끝나셨다고.... 그럴 수 있지."},{"text":"무시하고 회의 진행한다.","result":"설거지 소리가 들려서 결국 마이크 켜져 있다고 얘기했다.","targets":["designer"],"burdenAmount":2}]},{"emoji":"🍛","text":"밤샘 팀플하다가 저녁을 시키기로 했다. 배달앱을 켠 조장. 어떤 메뉴를 시켜야 할까?","answers":[{"text":"마라샹궈","result":"디자이너가 분모자 다 건져서 먹었다.","targets":["designer"],"burdenAmount":-1},{"text":"바지락칼국수","result":"아 디자이너님 해산물 못 드셨었지. 깜빡했네~","targets":["designer"],"burdenAmount":2}]},{"emoji":"1️⃣","text":"결과물 UI를 보고 갑자기 정렬이 맞지 않다고 하는 디자이너. 어디는 7px씩, 어디는 9px씩 띄워야 한다는데...","answers":[{"text":"제 눈에는 똑같이 생겼는데요?","result":"그쵸... 똑같죠...? 하지만 디자이너는 의기소침해 보인다.","targets":["designer"],"burdenAmount":2},{"text":"개발자님 이거 대응해 주실 수 있어요?","result":"개발자님 한숨을 들은 것 같은데... 줌이 끊겼나...","targets":["developer"],"burdenAmount":1}]},{"emoji":"🎶","text":"지금은 오전 3시. 길어지는 프로토타입 구현에 다들 눈이 감겨온다. 음악이라도 하나 틀어볼까?","answers":[{"text":"스타벅스 매장 음악 3시간","result":"모두 사이렌오더 시켜놓은 것처럼 열심히 일했다.","targets":["pm","designer","developer"],"burdenAmount":-1},{"text":"코딩하기 좋은 음악 3시간","result":"개발자가 신경도 쓰지 않는다. 코딩하면 음악이 안 들리나."}]},{"emoji":"🕖","text":"저녁 7시 회의에 다들 5~10분씩 늦는다고 한다. 일찍 회의하고 일찍 자는 게 좋을 것 같은데...","answers":[{"text":"그럼 7시 반에 시작하죠.","result":"여유롭게 저녁 먹고 7시 40분에 시작했다. 양치질하시라고 10분 미룸.","targets":["pm","designer","developer"],"burdenAmount":-1},{"text":"먼저 회의할 테니 천천히 들어오세요.","result":"다들 30분씩 늦어서 7시 반에 시작했다. 하튼 나만 힘들지."}]},{"emoji":"💬","text":"기획 문서와 프로토타입, 결과물의 문구가 조금씩 다른 것 같다. 달라진 이유가 뭘까?","answers":[{"text":"디자이너님이 맞춤법 장인이라~","result":"기획자는 반박하고 싶었지만 맞춤법을 반박할 수는 없었다.","targets":["developer"],"burdenAmount":-1},{"text":"개발자가 폰트 크기에 맞추다보니~","result":"격렬한 논의 끝에 폰트 크기를 바꾸기로 했다.","targets":["designer"],"burdenAmount":2}]},{"emoji":"🛠","text":"디자이너가 프로토타입은 어떤 툴로 만들면 좋을지 물어본다. 내심 기대하는 답이 있는 것 같은데...","answers":[{"text":"그냥 구글 슬라이드로 하죠.","result":"아 이거 한글 폰트가 없네. 누가 이런 선택을 했죠?","targets":["designer"],"burdenAmount":1},{"text":"피그마? 뭔지 모르겠지만 써 봅시다.","result":"디자이너의 커서가 홍길동처럼 움직인다.","targets":["designer"],"burdenAmount":-2}]}],"outro":[{"emoji":"🥳","text":"뭔가 엄청난 것을 만들었다. 이거 팔아도 될 것 같은데?"},{"emoji":"🙌","text":"기말 발표를 마치고 다들 톡방에 눈물과 환희의 이모티콘들을 보낸다."},{"emoji":"🥰","text":"다들 고생 많았어요. 그리고 누구신지는 모르겠지만... 저희 팀플을 도와주셔서 감사합니다."},{"emoji":"😏","text":"새벽 3시에 스크립트를 쓰는 지금... 저도 개인 프로젝트 말고 팀플하고 싶네요."},{"emoji":"👋","text":"극한팀플은 여기까지입니다. 감사합니다. 게임 오버입니다."}],"interlude1":[{"emoji":"🤔","text":"이런... 팀플이 폭파되었군요."},{"emoji":"🤗","text":"하지만 기죽지 마세요. 정문과에서 이런 고생길은 숱하게 열리는 것 아니겠어요?"},{"emoji":"🏃","text":"당신은 다음 학기에도 이름 모를 정문과 수업을 듣고, 팀플을 하게 됩니다."},{"emoji":"🙋","text":"안녕하세요. 어디서 많이 본 팀 구성인데... 저희 다시 시작해 볼까요?","preEffects":["startMain"],"postEffects":["addTryCount","reset","countScore"]}],"interlude2":[{"emoji":"👀","text":"또 팀플이 터졌군요."},{"emoji":"🤗","text":"걱정하지 마세요. 들어야 하는 정문과 수업이 많다면, 팀플을 할 기회도 많이 남았습니다."},{"emoji":"🏃","text":"당신은 다음 학기에도 이름 모를 정문과 수업을 듣게 됩니다. 시작해 볼까요?","preEffects":["startMain"],"postEffects":["addTryCount","reset","countScore"]}],"interlude3":[{"emoji":"😌","text":"3학기 내리 팀플이 터졌군요. 그럴 수 있죠."},{"emoji":"🥱","text":"당신은 다음 학기에도 이름 모를 정문과 수업을 듣고... 하품해서 미안해요. 시작해 볼까요?","preEffects":["startMain"],"postEffects":["addTryCount","reset","countScore"]}],"interlude4":[{"emoji":"🧐","text":"......"},{"emoji":"😅","text":"아 죄송해요. 팀플마다 왜 저렇게 끝나는지 모르겠어서... 특이한 경험을 하고 계시네요. 가시죠.","preEffects":["startMain"],"postEffects":["addTryCount","reset","countScore"]}],"interlude5":[{"emoji":"😇","text":"이번 학기도 아쉽게 됐네요."},{"emoji":"🤠","text":"뭐 어쩔 수 없죠. 졸업은 해야 하지 않겠습니까. 다음 학기에는 운이 좋기를 바라볼까요?","preEffects":["startMain"],"postEffects":["addTryCount","reset","countScore"]}],"pmBadEnding":{"emoji":"🍃","text":"기획자는 연락이 두절되었고 그 후로 정문과 수업에서 기획자님을 다시 볼 수 없었습니다.","preEffects":["stopCountScore","startInterlude"]},"designerBadEnding":{"emoji":"🍃","text":"디자이너는 연락이 두절되었고 그 후로 정문과 수업에서 디자이너님을 다시 볼 수 없었습니다.","preEffects":["stopCountScore","startInterlude"]},"developerBadEnding":{"emoji":"🍃","text":"개발자는 연락이 두절되었고 그 후로 정문과 수업에서 개발자님을 다시 볼 수 없었습니다.","preEffects":["stopCountScore","startInterlude"]}}');class C{static init(){this.pm.onRetireGame=()=>{this.startBadEnding(e(b).pmBadEnding)},this.designer.onRetireGame=()=>{this.startBadEnding(e(b).designerBadEnding)},this.developer.onRetireGame=()=>{this.startBadEnding(e(b).developerBadEnding)}}static startBadEnding(t){this.questions=[...this.questions.slice(0,C.cursor+1),t],this.onCardPush()}static startIntro(){this.questions=[...this.questions,...e(b).intro],this.onCardPush()}static startMain(){const t=shuffle(e(b).main);if(t.length>0){const e=t[t.length-1];t[t.length-1]={...e,preEffects:["startOutro","stopCountScore"]}}this.questions=[...this.questions,...t],this.onCardPush()}static startOutro(){this.questions=[...this.questions,...e(b).outro],this.onCardPush()}static startInterlude(){let t;switch(this.tryCount){case 1:t=e(b).interlude1;break;case 2:t=e(b).interlude2;break;case 3:t=e(b).interlude3;break;case 4:t=e(b).interlude4;break;default:t=e(b).interlude5}this.questions=[...this.questions,...t],this.onCardPush()}static startCountScore(){this.countScore=!0}static stopCountScore(){this.countScore=!1}static reset(){this.pm.resetBurden(),this.designer.resetBurden(),this.developer.resetBurden(),this.score=1}static addTryCount(){this.tryCount+=1}static pickNext(){this.cursor=Math.min(this.cursor+1,this.questions.length-1),this.countScore&&(this.score+=1)}static applyBurden(t,e){for(const s of t)switch(s){case"pm":this.pm.addBurden(e);break;case"designer":this.designer.addBurden(e);break;case"developer":this.developer.addBurden(e)}}static onCardPush(){}}C.pm=new B("기획자",5),C.designer=new B("디자이너",5),C.developer=new B("개발자",5),C.questions=[],C.cursor=0,C.tryCount=1,C.score=1,C.countScore=!1;var S=C;function k(t,e,s,r,i){var a={};return Object.keys(r).forEach((function(t){a[t]=r[t]})),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=s.slice().reverse().reduce((function(s,r){return r&&r(t,e,s)||s}),a),i&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(i):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(t,e,a),a=null),a}var y=function(t){return class extends t{position(){super.position(),rectMode(CENTER);const t=this.fXBase.getValue(),e=this.fYBase.getValue(),s=Math.abs(Math.sin(t*PI))*(this.height/2),r=Math.abs(Math.sin(e*PI))*(this.width/2);translate(0,0,Math.max(s,r)),rotateX(t*PI),rotateY(e*PI)}display(){super.display(),this.fXBase.move(),this.fYBase.move()}flip(t,e=!0){switch(t){case"LEFT":this.fYBase.setAmount(-1,e);break;case"RIGHT":this.fYBase.setAmount(1,e);break;case"TOP":this.fXBase.setAmount(1,e);break;case"BOTTOM":this.fXBase.setAmount(-1,e)}this.side="FRONT"===this.side?"BACK":"FRONT"}constructor(...t){super(...t),this.fXBase=this.getNewTransitionBase(),this.fYBase=this.getNewTransitionBase(),this.side="FRONT"}}};var E=function(t,e,s){const r=s.value;s.value=function(...t){if(r){push();const e=r.apply(this,t);return pop(),e}}};var T=function(t){return class extends t{position(){super.position();const t=this.hXBase.getValue(),e=this.hYBase.getValue(),s=t>0?-this.x:this.x,r=e>0?-this.y:this.y,i=t*(width/2+this.width/2+this.xMargin+s),a=e*(height/2+this.height/2+this.yMargin+r);translate(i,a)}display(){super.display(),this.hXBase.move(),this.hYBase.move()}hide(t,e=!0){switch(t){case"LEFT":this.hXBase.setValue(-1,e);break;case"RIGHT":this.hXBase.setAmount(1,e);break;case"TOP":this.hYBase.setAmount(-1,e);break;case"BOTTOM":this.hYBase.setAmount(1,e)}}show(t=!0){this.hXBase.setValue(0,t),this.hYBase.setValue(0,t)}isHiding(){return 1===Math.abs(this.hXBase.getValue())||1===Math.abs(this.hYBase.getValue())}constructor(...t){super(...t),this.hXBase=this.getNewTransitionBase(),this.hYBase=this.getNewTransitionBase(),this.xMargin=10,this.yMargin=10}}};var R=class{getWidth(){return this.width}getHeight(){return this.height}position(){}display(){this.position()}constructor(t,e){this.width=t,this.height=e}};function A(t){return 1===t?1:1-pow(2,-10*t)}var j=class{setValue(t,e){this.isTransitioning()&&this.endTransition(),e?this.amount=t-this.value:this.value=t}setAmount(t,e){this.isTransitioning()&&this.endTransition(),e?this.amount=t:this.value+=t}getValue(){return this.value+this.amount*this.ease(this.progress)}isTransitioning(){return 0!==this.amount}move(){0!==this.amount&&(this.progress<1?this.progress=Math.min(this.progress+this.speed,1):this.endTransition())}endTransition(){this.value+=this.amount,this.amount=0,this.progress=0}constructor(t,e){this.value=0,this.amount=0,this.progress=0,this.speed=t,this.ease=e}};var q=class extends R{getNewTransitionBase(){return new j(this.speed,this.ease)}constructor(...t){super(...t),this.speed=.015,this.ease=A}};var H=class extends q{get x(){return this.xBase.getValue()}get y(){return this.yBase.getValue()}get z(){return this.zBase.getValue()}set(t,e,s,r=!0){this.setX(t,r),this.setY(e,r),this.setZ(s,r)}setX(t,e=!0){this.xBase.setValue(t,e)}setY(t,e=!0){this.yBase.setValue(t,e)}setZ(t,e=!0){this.zBase.setValue(t,e)}move(t,e,s,r=!0){this.moveX(t,r),this.moveY(e,r),this.moveZ(s,r)}moveX(t,e=!0){this.xBase.setAmount(t,e)}moveY(t,e=!0){this.yBase.setAmount(t,e)}moveZ(t,e=!0){this.zBase.setAmount(t,e)}position(){super.position(),translate(this.xBase.getValue(),this.yBase.getValue(),this.zBase.getValue())}display(){super.display(),this.xBase.move(),this.yBase.move(),this.zBase.move()}constructor(...t){super(...t),this.xBase=this.getNewTransitionBase(),this.yBase=this.getNewTransitionBase(),this.zBase=this.getNewTransitionBase()}};var O=function(t){return class extends t{setYRotate(t,e=!0){this.rYBase.setValue(t,e)}position(){super.position(),rotateY(this.rYBase.getValue())}display(){super.display(),this.rYBase.move()}constructor(...t){super(...t),this.rYBase=this.getNewTransitionBase()}}};var L=class{constructor(t,e){this.texture=createGraphics(t,e)}};var I=class extends L{draw(){this.texture.background(v.cardQuestion),this.texture.fill(0),this.texture.textFont("Hahmlet"),this.texture.textAlign(CENTER,TOP),this.texture.textWrap(WORD),this.emoji&&(this.texture.textSize(30),this.texture.text(this.emoji,3,40,this.texture.width)),this.question&&(this.texture.textLeading(27),this.texture.textSize(16),this.texture.text(this.question,22,90,this.texture.width-40))}constructor(t,e,s,r){super(t,e),this.emoji=s,this.question=r}};var M=class extends L{set(t,e){this.text=t,this.result=e}draw(){this.texture.background(v.cardResult),this.texture.fill(255),this.texture.textFont("Hahmlet"),this.texture.textAlign(CENTER,TOP),this.texture.textLeading(27),this.texture.textSize(16),this.text&&this.texture.text(this.text,22,90,this.texture.width-40),this.result&&(this.texture.textStyle(BOLD),this.texture.text(this.result,22,200,this.texture.width-40))}};var _=class extends L{draw(){this.texture.background(v.cardBack)}};var F=(k((X=class t extends(u(O(y(T(H))))){static initBackSide(){this.backSide=new _(200,300),this.backSide.draw()}setResult(t,e){this.back=this.resultSide,this.resultSide.set(t,e),this.resultSide.draw()}prepareBack(){"FRONT"===this.side?this.back=t.backSide:this.front=t.backSide}isShowingBack(){return"FRONT"===this.side&&this.front===t.backSide||"BACK"===this.side&&this.back===t.backSide}display(){super.display(),noStroke(),this.front&&texture(this.front.texture),translate(0,0,-.1),rect(0,0,this.width,this.height),this.back&&texture(this.back.texture),rotateY(PI),translate(0,0,.1),rect(0,0,this.width,this.height)}constructor(t){super(200,300),this.resultSide=new M(200,300),this.questionSide=new I(200,300,t.emoji,t.text),this.questionSide.draw(),this.question=t,this.front=this.questionSide}}).prototype,"display",[E],Object.getOwnPropertyDescriptor(X.prototype,"display"),X.prototype),X);var P=class extends L{draw(){this.texture.background(this.background),this.texture.fill(0),this.texture.textFont("Hahmlet"),this.texture.textAlign(CENTER,TOP),this.texture.textWrap(WORD);let t="";for(let e=0;e<this.character.burden;e++)t+="😤";this.texture.textSize(20),this.texture.text(t,3,18,this.texture.width)}constructor(t,e,s,r){super(t,e),this.background=s,this.character=r}};var N=class extends L{draw(){this.texture.background(v.characterEnd)}};var Y=(k((X=class t extends(y(T(H))){static initEndSide(){this.characterEndSide=new N(150,50),this.characterEndSide.draw()}display(){super.display(),noStroke(),this.characterSide.draw(),texture(this.characterSide.texture),translate(0,0,-.1),rect(0,0,this.width,this.height),texture(t.characterEndSide.texture),rotateX(PI),translate(0,0,.1),rect(0,0,this.width,this.height)}constructor(t,e){super(150,50),this.characterSide=new P(150,50,e,t)}}).prototype,"display",[E],Object.getOwnPropertyDescriptor(X.prototype,"display"),X.prototype),X);var U=class extends L{draw(){this.texture.background(v.score),this.texture.fill(0),this.texture.textFont("Hahmlet"),this.texture.textAlign(CENTER,TOP);const t=`${S.tryCount}학기 ${S.score}일차`;this.texture.textSize(18),this.texture.text(t,3,21,this.texture.width)}};var V=(k((X=class extends(y(T(H))){display(){super.display(),noStroke(),this.scoreSide.draw(),texture(this.scoreSide.texture),rect(0,0,this.width,this.height)}constructor(){super(180,60),this.scoreSide=new U(180,60)}}).prototype,"display",[E],Object.getOwnPropertyDescriptor(X.prototype,"display"),X.prototype),X);var X,z=class extends L{draw(){this.background&&this.texture.background(this.background),this.text&&(this.texture.fill(0),this.texture.textFont("Hahmlet"),this.texture.textAlign(CENTER,TOP),this.texture.textWrap(WORD),this.texture.textLeading(24),this.texture.textSize(16),this.texture.text(this.text,18,30,this.texture.width-30))}};var D=(k((X=class extends(u(O(y(T(H))))){display(){super.display(),noStroke(),texture(this.answerSide.texture),rect(0,0,this.width,this.height)}constructor(t,e){switch(super(200,100),this.answerSide=new z(200,100),e){case"LEFT":this.answerSide.background=v.answerLeft;break;case"RIGHT":this.answerSide.background=v.answerRight}this.answerSide.text=t.text,this.answerSide.draw()}}).prototype,"display",[E],Object.getOwnPropertyDescriptor(X.prototype,"display"),X.prototype),X);class G{static init(){F.initBackSide(),Y.initEndSide();const t=[[S.pm,v.pm],[S.designer,v.designer],[S.developer,v.developer]];this.characterCards=t.map((([t,e])=>{const s=new Y(t,e);return s.hide("TOP",!1),t.onRetireLayout=()=>{setTimeout((()=>{s.flip("TOP")}),1e3)},t.onResetLayout=t=>{t&&s.flip("BOTTOM")},s})),this.scoreCard=new V,this.scoreCard.hide("TOP",!1),G.update(),S.onCardPush=()=>{G.update()}}static update(){this.updateCards(),this.updateLeftDeck(this.questionCards.slice(0,S.cursor)),this.updateCurrentCard(this.questionCards[S.cursor]),this.updateRightDeck(this.questionCards.slice(S.cursor+1)),this.updateCharacters(),this.updateScore(),this.updateHidingCards()}static updateCards(){let t=0;this.questionCards=S.questions.map(((e,s)=>{var r;if((null===(r=this.questionCards[s])||void 0===r?void 0:r.question)===e)return this.questionCards[s];const i=new F(e);return i.prepareBack(),i.flip("LEFT",!1),i.hide("TOP",!1),setTimeout((()=>{i.show()}),100*t++),this.questionCards[s]&&(this.questionCards[s].hide("BOTTOM"),this.hidingCards.push(this.questionCards[s])),i}))}static updateLeftDeck(t){for(let s=0;s<t.length;s++){const r=t.length-1-s;if(t[s].set(-220-1*r,0,-3*r),!t[s].isShowingBack()){var e;t[s].prepareBack(),t[s].flip("LEFT"),n.remove(this.questionCards[s]);const r=null===(e=t[s].question)||void 0===e?void 0:e.postEffects;r&&this.runEffects(r)}}}static updateRightDeck(t){for(let e=0;e<t.length;e++){const s=e;t[e].set(220+3*s,0,-3*s)}}static updateCurrentCard(t){t.set(0,0,50),t.isShowingBack()&&setTimeout((()=>{var e,s;t.flip("LEFT"),(null===(e=t.question)||void 0===e?void 0:e.answers)?this.updateAnswers(t.question.answers):(n.add(t),t.onClick=()=>{S.pickNext(),G.update()}),(null===(s=t.question)||void 0===s?void 0:s.preEffects)&&this.runEffects(t.question.preEffects)}),500)}static updateAnswers(t){for(const t of this.answerCards)t.hide("BOTTOM"),n.remove(t),this.hidingCards.push(t);this.answerCards=t.map(((t,e)=>{const s=0===e,r=new D(t,s?"LEFT":"RIGHT"),i=r.getWidth()/2+5;return r.set(s?-i:i,230,0,!1),r.hide("BOTTOM",!1),r.show(),n.add(r),r.onClick=()=>{this.questionCards[S.cursor].setYRotate(0),this.updateResultCard(this.questionCards[S.cursor],t,e)},r.onHover=()=>{this.questionCards[S.cursor].setYRotate(s?-.2:.2)},r}))}static updateResultCard(t,e,s){let r;e.targets&&e.burdenAmount&&(r=this.burdenResult(e.targets,e.burdenAmount)),t.setResult(e.result,r),t.flip(0===s?"LEFT":"RIGHT"),n.add(t),t.onClick=()=>{S.pickNext(),G.update()},e.targets&&e.burdenAmount&&S.applyBurden(e.targets,e.burdenAmount),this.updateAnswers([])}static runEffects(t){for(const e of t)switch(e){case"showCharacters":for(const t of this.characterCards)t.show();break;case"showScore":this.scoreCard.show();break;case"startMain":S.startMain();break;case"countScore":S.startCountScore();break;case"stopCountScore":S.stopCountScore();break;case"reset":S.reset();break;case"startInterlude":S.startInterlude();break;case"addTryCount":S.addTryCount();break;case"startOutro":S.startOutro()}}static updateCharacters(){for(let t=0;t<this.characterCards.length;t++){const e=this.characterCards[t],s=-height/2+e.getHeight()/2,r=-width/2+e.getWidth()/2;this.characterCards[t].set(r+t*(e.getWidth()+10)+10,s+10,0,!1)}}static updateScore(){const t=-height/2+this.scoreCard.getHeight()/2,e=width/2-this.scoreCard.getWidth()/2;this.scoreCard.set(e-10,t+10,0,!1)}static updateHidingCards(){setTimeout((()=>{this.hidingCards=[]}),3e3)}static display(){for(const t of this.questionCards)t.display();for(const t of this.characterCards)t.display();this.scoreCard.display();for(const t of this.answerCards)t.display();for(const t of this.hidingCards)t.display()}static burdenResult(t,e){return`${t.map((t=>{switch(t){case"pm":return"기획자";case"designer":return"디자이너";case"developer":return"개발자"}})).join(", ")} 힘듦 ${e>0?`+${e}`:e}`}}G.characterCards=[],G.questionCards=[],G.answerCards=[],G.hidingCards=[];var W=G;window.preload=function(){v.init()},window.setup=function(){createCanvas(800,600,WEBGL),S.init(),S.startIntro(),W.init()},window.draw=function(){push(),translate(0,0,-100),image(v.background,-width/2-80,-height/2-80,width+160,height+160),pop(),n.listenHover(),W.display()},window.mousePressed=function(){n.listenClick()};
//# sourceMappingURL=index.24b9262c.js.map
